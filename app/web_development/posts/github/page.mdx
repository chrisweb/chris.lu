<aside>
%toc%
</aside>

<article>

# GitHub

![banner image with a stylized depiction of the github mascot "octocat" in a futuristic city with neon sign that read GitHub and Git](../../../../public/assets/images/app/web_development/posts/github/banner.png)

[GitHub](https://github.com) is a web-based platform where you can upload your code into so called repositories, they have a free tier as well paid tiers, but the free tier is not limited in time and gives you more than enough to get started.

GitHub makes code collaboration easy, which is why a lot of open source tools use it. GitHub utilizes Git, a distributed version control system, as its underlying technology to manage code repositories. This means that you can for example fork any repositories (make a copy of a public repository that will be stored in your account), then you can modify the code of the fork locally and when you are done you commit your changes to your fork on GitHub, then on GitHub you can create a pull request to ask the owner of the original repository if they want to merge the code changes you did in your fork.

Besides hosting code GitHub also has other features like [GitHub Discussion](https://docs.github.com/discussions) which are forums you can enable for each of your repositories, [GitHub Issues](https://docs.github.com/issues/tracking-your-work-with-issues/about-issues) a tricket system to manage bug reports and feature requests, [GitHub Projects](https://docs.github.com/issues/planning-and-tracking-with-projects/learning-about-projects/about-projects) a tool to organize tickets, [GitHub Actions](https://docs.github.com/actions) to automate software workflows to do continuous integration (CI) and continuous deployment (CD), [GitHub Pages](https://docs.github.com/pages) is a hosting service where you can publish a static website for your project and a bunch more features.

> [!MORE]  
> [GitHub documentation portal](https://docs.github.com)

## Create an account (sign up)

To **sign up** on GitHub visit [github.com](https://github.com/) and click on "Sign Up"

Then enter your email address, chose a strong password and chose a username that is not yet taken

You when then get a mail with a code, copy the code and enter it on the next step of the account creation on github.com

Then answer the few questions they ask you or click on **Skip personalization** on the bottom of the page, when asked about the tools you plan on using, they ask this to know what plan is best for you, as you are new to GitHub the free plan will be more than enough, this is why I would only check the first two checkboxes for **Collaborative coding** and **Automation and CI/CD**

Then click on **Continue for free**

> [!TIP]  
> the free GitHub plan is more than enough for a single developer, you get unlimited public and private repositories, the only feature you don't get are mostly features needed when working in a team, don't hesitate to start with the free plan if later you realize that you need more you can still upgrade at that time

## Create a repository

If you have no repository yet, after creating an account on GitHub you will land on your dashboard page, here GitHub will suggest you to create a repository

If you already created a repository in the past, click on your Avatar picture on the top right of the page and then on **Your repositories**, then click on the green **New** button on the top right

Enter a **Repository name**, for example **"nextjs-blog"**, then you can chose to make it private or keep it public

> [!TIP]  
> I usually chose **public** because at same point you will probably want to share your work with others to ask for help or show them how cool your new project is, also if you are searching for a job having several projects you worked on your GitHub account shows your potential future employer what a motivated dev you are

Next you will have a checkbox for **Add a README file**, I recommend you DO NOT check this if you intend to use [Create Next App](https://www.npmjs.com/package/create-next-app) to set up a Next.js project as it will create a README.md itself and if it finds a README.md it will ask you to delete it first, if however you don't use Next.js then feel free to check this box to have GitHub automatically create a new README.md file for your project

> [!TIP]  
> I always use the projects `README.md` file to document all the things I do in that project, for example add a chapter to describe how to setup a local development version of your project, or for example document the commands that can be used to do things like starting the local devopment server, you can also add notes about problems you faced and how you solved them
>
> In the future you will be happy to have all that information regarding your project in one place and if you share the project with someone else in the future it will help them get started without having to ask you lots of questions or dig through code and configuration files to understand how your project is set up

Next you have a select box called **Add .gitignore**, click on it and then search for **Node** (which is the Node.js template for gitignore files) and then click on **Node** to select it

> [!NOTE]
> If you chose **node** as template for the `.gitignore` file, it will create a quite large `.gitignore` file that contains patterns for lots of common frameworks used when working with Node.js, one of them being Next.js
>
> Which means that for examaple `.next` directory (which contains temporary files that get created by the linting and compiling tools used by Next.js as well as local development build of your project) will get excluded from commits (which is what we want, there is no need to share your own local build with others or have a copy in your repository)
>
> Another directory that will get excluded is the **node_modules** directory which will contain local copies of all the packages you download from npm
>
> Finally the other rules are less or not all useful in our case as they are for other frameworks like Nuxt.js or Astro, but they also do no harm, so you don't really need to touch that file to remove those rules

> [!TIP]  
> `.gitignore` files specify which files and directories should be excluded from tracking in a Git repository, meaning that they will NOT get committed to your repository. Oh and in case you wonder, yes the .gitignore file itself should get commited (unlike the `.next` directory which should not)

Next you have another select box to **Chose a license**, you can skip this if you want, but if you want a license and are not sure which one, then it is safe to just chose the **MIT** license, it is a very popular license used by a lot of javascript projects, for example here is the [MIT license page of Next.js](https://github.com/vercel/next.js/blob/canary/license.md) and here is the [MIT license page of React](https://github.com/facebook/react/blob/main/LICENSE)

> [!TIP]  
> I usually pick the **MIT** license if it is a project that I want to share but also keep the copyright or pick the **creative commons zero** ([CC0](https://creativecommons.org/public-domain/cc0/)) license which basically is a license that defines that you are waiving your copyright rights and hence the code will be in the public domain

You are finally done, now click on **Create repository** to create your new repository

GitHub will now have created a repository for you, with a .gitignore, a LICENSE and if you chose that option a README.md file too

> [!MORE]  
> [github "Creating an account on GitHub" documentation](https://docs.github.com/en/get-started/quickstart/creating-an-account-on-github)  
> [github "Creating a new repository" documentation](https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-new-repository)  
> [open source initiave MIT license page](https://opensource.org/license/mit/)  
> [creative commons zero (CC0) page](https://creativecommons.org/public-domain/cc0/)  

## Create a deploy key to access a private repository

> [!NOTE]  
> you get an error message like "Permission denied (publickey)" or "fatal: Could not read from remote repository" then this means that you don't have access to a public repository yet, there are several methods available to solve that problem, my favorite is to use a deploy key as it can be revoked easily and is bound to the repository and not a user account

In the following chapters we will create and then use a deploy key to manage access to our private repository, this is a good solution for single developers and small teams, however if you have an organisation account on GitHub there is an alternative you might want to check out called [GitHub App installation access tokens](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys#github-app-installation-access-tokens)

### generate an SSH key

First you need to generate an SSH key on your local machine, to be able to generate an SSH key you need a command line tool and you need the OpenSSH Client to be installed

* on windows git for windows comes with a Bash emulator called **Git Bash** as well as the OpenSSH client
* on other operating systems (macOS, Linux) use your favorite command line tool and install OpenSSH using your default package manager (for example using brew on macOS the command is `brew install openssh`, yum / apt / ... on Linux, for example using apt, the command is: `sudo apt install openssh-client`)

To make sure you have OpenSSH installed use the following command:

```shell
 ssh -V
```

If OpenSSH is installed it will print a line like `OpenSSH_VERSION, OpenSSL VERSION LAST_UPDATE_DATE`

To generate an SSH key enter the following line in your command line tool:

```shell
ssh-keygen -t ed25519 -C "your_email@example.com"
```

Then press `ENTER`

You will get asked for a path where you want to store the key, make sure the location is secure, usually the suggested path is a good location, then press `ENTER` to validate it

Next you will get asked for a passphrase, either you add a passphrase (a string like a password that you will get asked to enter every time you want to use the SSH key) or you can leave it empty to not use a passphrase for that key

> [!NOTE]  
> passphrases make keys more secure but also make their usage more difficult, the advantage of using a passphrase is that if someone gains access to your machine and hence your SSH key they could use the key, however if the key is protected by a passphrase this added layer of security makes it impossible for them to use the key unless they also gain access to the passphrase, it is always good to increase security to maximum especially if it is related to a critical project at your workplace, however the passphrase also makes it more difficult to use the key so if the deploy key is only being used for example for non criticial personal project then you can chose not to NOT use a passphrase

then enter the passphrase again for verification and finally press `ENTER`

After the SSH key has been created you will see a message that contains a sentence like this:

> Your public key has been saved in /PATH_TO_KEY/KEY_NAME.pub

> [!MORE]  
> [GitHub "Generating a new SSH key" documentation](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#generating-a-new-ssh-key)  
> [GitHub "Working with SSH key passphrases" documentation](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/working-with-ssh-key-passphrases)  

### add a new deploy key to a GitHub repository

Next open the public key file using a text editor or via the command line (using the path you got when creating the key in the previous chapter) to see its content and then copy the content of the public key

Now go to [github.com](https://github.com/) in your browser and open the repository for which you want to create a deploy key

On the top repository page in the navigation bar click on **Settings**

Then in the left sidebar click on **Deploy keys**

Then click on the button **Add deploy key**

Give the deploy key a title that will tell you in the future "what the deploy key is for"

Paste the content you copied earlier into the text area name **Key**

Leave the check box to grant write access unchecked, it is good that the key is only for read access as this is what we need it for (if for some reason you need write access, feel free to enable this, but most use cases will not require this)

Finally click on the **Add key** button to save it

> [!MORE]  
> [GitHub "Managing deploy keys" documentation](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys#deploy-keys)  

### adding your SSH key to SSH agent

The last step that is required is to add the SSH key to the ssh agent of the machine that will use it

To do so, open git bash on windows or your favorite command line tool on macOS / Linux and then use the following command to make sure the SSH agent is running:

```shell
eval $(ssh-agent -s)
```

and then add the SSH key to the agent using the following command:

```shell
ssh-add /PATH_TO_KEY/KEY_NAME.pub
```

replace `/PATH_TO_KEY/KEY_NAME.pub` with the path you used when generating the SSH key in the previous chapter

for the machine to be able to use your SSH key the SSH agent must be running, you can use the command I just mentioned at the beginning of this chapter to do so manually or you can create script to automatically launch the SSH agent on windows, check out the [GitHub documentation about autolaunching the SSH agent on windows](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/working-with-ssh-key-passphrases#auto-launching-ssh-agent-on-git-for-windows)

It is possible to use multiple keys for multiple repositories, to learn more about how this works check out the [GitHub documentation using multiple keys for multiple repositories](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys#using-multiple-repositories-on-one-server)

### potential error when using your deploy key

If you get an error that reads "The authenticity of host 'github.com (xxx.xxx.xxx.xxx)' can't be established", then this is because github.com is not a known host

To add github.com to your known hosts, on windows open git bash (on linux and macOS open your favorite command line tool) and then use the following command:

```shell
ssh-keyscan github.com >> ~/.ssh/known_hosts
```

</article>