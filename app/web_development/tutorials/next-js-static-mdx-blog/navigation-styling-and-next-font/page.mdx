%toc%

<article>

# Styling the navigation and using next/font

Now that our Navigation is working we will add a few touches of color and use [next/font](https://nextjs.org/docs/app/api-reference/components/font) to add an custom web font to our project

## next/font to use an open source font

When using **next/font** you can use any font available on [google fonts](https://fonts.google.com/) or use your own local font(s), the best part about using next/font is that it will optimize the loading of the font to make sure that there are zero layout shifts, also when using next/font we are self hosting the font(s), which means we will NOT need to do an external network request to fetch the font, which will decrease loading times but also increase privacy as NO request is done to google servers

Because we are using the font for our navigation, let's start by editing our `layout.tsx` file (that is in the `app` folder) and import the font from there:

```tsx title="/app/layout.tsx" showLineNumbers {4} {11-16} /className={kablammo.variable}/#special
import './global.css'
import { Metadata } from 'next'
import HeaderNavigation from '@/components/header/Navigation'
import { Kablammo } from 'next/font/google'

export const metadata: Metadata = {
    title: 'Next.js',
    description: 'Generated by Next.js',
}

const kablammo = Kablammo({
    subsets: ['latin'],
    variable: '--font-kablammo',
    weight: ['400'],
    display: 'swap',
})

export default function RootLayout({
    children,
}: {
    children: React.ReactNode
}) {
    return (
        <html lang="en" className={kablammo.variable}>
            <body>
                <header>
                    <HeaderNavigation />
                </header>
                <main>{children}</main>
                <footer>
                    <p>My Footer</p>
                </footer>
            </body>
        </html>
    )
}
```

Line 4 we import the font called **Kablammo** from **next/font**, you can find [Kablammo on google fonts](https://fonts.google.com/specimen/Kablammo)  

Line 11-16 we set some options for the font:

* like what [subset](https://fonts.google.com/knowledge/glossary/subsetting) do we want to use
* the CSS variable (**--font-kablammo**) we want to use for the font
* the (font-)[weight](https://fonts.google.com/knowledge/glossary/weight) will we use
* the [display](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display) strategy defines what happens during the period where the font is still getting fetched and not ready to be used, Next.js sets it to swap by default, so if you chose **swap** as in this example you could also just not set it or if you prefer to let the browser chose the display strategy then use **auto** as value, as described on the [chrome developer "font-display" page](https://developer.chrome.com/blog/font-display) when you chose auto most browsers will use a technique similar to **block**, meaning that for a short period of time the browser will use an invisible fallback font face (to avoid layout shifts) and then when the font is ready it will swap in the font

> [!TIP]  
> Chosing a subset is important to make the font load quickly because Next.js will inject a link preload tag into the head (when the preload option is true, which is the default)  
>  
> Also because the fonts are fully typed you can just type an option name and will get a list of values that you can chose from  

Finally line 24 we add the font style to our HTML element via the className attribute

## Navigation CSS module

Next we are going to add a stylesheet for our Naviation component and use the new font for the navigation items

Create a new `navigation.module.css` file the `/components/header` folder and insert the following content:

```css title="/components/header/navigation.module.css" showLineNumbers /--font-kablammo/
.navigation {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 60px;
    background-color: hsl(var(--background-dark-value) / 0.9);
    border-bottom: 1px solid hsl(var(--text-dark-value) / 0.5);
    position: fixed;
    top: 0;
}

.link {
    padding: 0 var(--spacing);
    font-size: xx-large;
    text-decoration: none;
    font-family: var(--font-kablammo);
}

.active {
    font-weight: bold;
}
```

As you can see at line 17 this is where we use the **--font-kablammo** variable we defined when setting the options for the font in the `layout.tsx` file

The final step is to edit our `Navigation.tsx` file in the `/components/header` folder and start using the styles we just created, like so:

```tsx title="/components/header/Navigation.tsx" showLineNumbers {6} /styles.active/#special /styles.navigation/#special /styles.link/#special
'use client'

import Link from 'next/link'
import { usePathname } from 'next/navigation'
import type { Route } from 'next'
import styles from './navigation.module.css'

interface IMainMenuItem {
    pathname: string
    text: string
}

const HeaderNavigation: React.FC = () => {

    const currentPagePathname = usePathname()

    const mainMenuItems: IMainMenuItem[] = [
        { pathname: '/', text: 'Home' },
        { pathname: '/blog', text: 'Blog' },
    ]

    const isActiveCheck = (menuItemPathname: string) => {

        let isActiveClass = ''

        if (menuItemPathname.length > 1) {
            if (currentPagePathname.startsWith(menuItemPathname)) {
                isActiveClass = styles.active
            }
        } else {
            // exception for homepage path which is "/"
            // in that case the page path needs to be equal
            if (currentPagePathname === menuItemPathname) {
                isActiveClass = styles.active
            }
        }

        return isActiveClass
    }

    return (
        <>
            <nav id="navigation" className={styles.navigation}>
                {mainMenuItems.map((menuItem) => {
                    return (
                        <Link
                            href={menuItem.pathname as Route}
                            key={menuItem.pathname}
                            className={`${isActiveCheck(menuItem.pathname)} ${styles.link}`}
                            title={menuItem.text}
                        >
                            {menuItem.text}
                        </Link>
                    )
                })}
            </nav>
        </>
    )
}

export default HeaderNavigation
```

Line 6 we import the new CSS Module containing the Navigation component stylesheet  

Line 28 / 34 / 43 / 49 we use the 3 CSS rules, the `.active` rule will be used to make the Navigation entry that matches the current pathname bold, the `.navigation` rule uses **position fixed** so that the navigation bar always stays on top and finally the `.link` rule will use the custom font to change the font of our navigation items  

Just one last little change needed, because we made the navigation fixed, it means that it will NOT take up any space anymore in the document as it will be floating above the content, this will cause the page content to move up and eventually be under the navigation, this is why we will edit our `global.css` file in `/app` the folder and add these few lines of CSS to it:

```css title="/app/global.css" showLineNumbers{33} {4-5}
body {
    /* remove any margin that browsers add to body */
    margin: 0;
    /* compensate for the fixed navigation height */
    padding-top: 60px;
}
```

Line 36 to 37 we add a padding-top property and set its value to the same size to be equivalent to the height of the navigation, this will ensure that when the page has loaded there is no content displayed under the navigation (later when scrolling the content will move under the navigation)

Congratulations you now have a much better looking navigation component and learned how to use next/font ðŸŽ‰

> [!MORE]  
> [Next.js "Font Optimization" documentation](https://nextjs.org/docs/app/building-your-application/optimizing/fonts)  
> [Next.js "next/font" api reference](https://nextjs.org/docs/app/api-reference/components/font)  
> [Google Fonts](https://fonts.google.com)  
> [MDN "font-display" documentation](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display)  
> [developer.chrome.com "font-display" blog post](https://developer.chrome.com/blog/font-display)  

</article>
