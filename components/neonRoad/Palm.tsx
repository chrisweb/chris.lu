'use client'

/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/
import { forwardRef, Ref } from 'react'
import { Mesh, MeshStandardMaterial, Group } from 'three'
import { useGLTF } from '@react-three/drei'
import { GLTF } from 'three-stdlib'
import { GroupProps } from '@react-three/fiber'

// types for the gltf version
type GLTFResult = GLTF & {
    nodes: {
        tronc_tronc1_0: Mesh
        Feuille_1_feuilles_0: Mesh
        Feuille_2_feuilles_0: Mesh
        Feuille_3_feuilles_0: Mesh
        Feuille_4_feuilles_0: Mesh
        Feuille_5_feuilles_0: Mesh
        Feuille_6_feuilles_0: Mesh
        Feuille_7_feuilles_0: Mesh
        Feuille_8_feuilles_0: Mesh
    }
    materials: {
        tronc1: MeshStandardMaterial
        feuilles: MeshStandardMaterial
    }
}

const PALM_GLTF_PATH = '/assets/3d_models/palm/palm.gltf'

// code for the gltf version
const PalmModel: React.FC<GroupProps> = forwardRef((props: JSX.IntrinsicElements['group'], ref: Ref<Group>) => {

    // types problem see: https://github.com/pmndrs/gltfjsx/issues/167
    const { nodes, materials } = useGLTF(PALM_GLTF_PATH) as unknown as GLTFResult

    return (
        <group name={'PalmModel'} {...props} ref={ref}>
            <mesh
                castShadow
                geometry={nodes.tronc_tronc1_0.geometry}
                material={materials.tronc1}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_1_feuilles_0.geometry}
                material={materials.feuilles}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_2_feuilles_0.geometry}
                material={materials.feuilles}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_3_feuilles_0.geometry}
                material={materials.feuilles}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_4_feuilles_0.geometry}
                material={materials.feuilles}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_5_feuilles_0.geometry}
                material={materials.feuilles}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_6_feuilles_0.geometry}
                material={materials.feuilles}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_7_feuilles_0.geometry}
                material={materials.feuilles}
            />
            <mesh
                castShadow
                geometry={nodes.Feuille_8_feuilles_0.geometry}
                material={materials.feuilles}
            />
        </group>
    )
})

PalmModel.displayName = 'PalmModel'

useGLTF.preload(PALM_GLTF_PATH)

export default PalmModel

// optimized the gltf using https://github.com/zeux/meshoptimizer/releases
// the optimized version displays no palm, I have no clue as to why it does not show???
/*
import { forwardRef, Ref } from 'react'
import { Mesh, MeshStandardMaterial, Group } from 'three'
import { useGLTF } from '@react-three/drei'
import { GLTF } from 'three-stdlib'
import { GroupProps } from '@react-three/fiber'

const PALM_GLB_PATH = '/assets/3d_models/palm/palm.glb'

type GLTFResult = GLTF & {
    nodes: {
        mesh_0: Mesh;
        mesh_0_1: Mesh;
    };
    materials: {
        tronc1: MeshStandardMaterial;
        feuilles: MeshStandardMaterial;
    };
};

const PalmModel: React.FC<GroupProps> = forwardRef((props: JSX.IntrinsicElements['group'], ref: Ref<Group>) => {
    // types problem see: https://github.com/pmndrs/gltfjsx/issues/167
    const { nodes, materials } = useGLTF(PALM_GLB_PATH) as unknown as GLTFResult
    return (
        <group name={'PalmModel'} {...props} ref={ref}>
            <mesh
                name="mesh_0"
                castShadow
                receiveShadow
                geometry={nodes.mesh_0.geometry}
                material={materials.tronc1}
            />
            <mesh
                name="mesh_0_1"
                castShadow
                receiveShadow
                geometry={nodes.mesh_0_1.geometry}
                material={materials.feuilles}
            />
        </group>
    )
})

PalmModel.displayName = 'PalmModel'

useGLTF.preload(PALM_GLB_PATH)

export default PalmModel
*/